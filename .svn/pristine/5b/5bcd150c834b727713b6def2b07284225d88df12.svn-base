<ion-header>
	<ion-toolbar>
      <ion-buttons slot="start">
          <ion-back-button [defaultHref]="defaultHref"></ion-back-button>
        </ion-buttons>
    <ion-title>Activity</ion-title>
	</ion-toolbar>
</ion-header>

     
  <ion-content fullscreen>
     
    <!-- List of attendee postings -->
    <ion-card *ngFor="let activityFeedItem of activityFeedListing; index as i">
      
      <!-- Attendee avatar and name -->
      <ion-item lines="none" id="afID{{activityFeedItem.afID}}">
        <ion-avatar slot="start" (click)="AttendeeDetails(activityFeedItem.AttendeeID)">
          <!--<img-loader [src]="activityFeedItem.ActivityFeedCommentAvatar" useImg [spinner]=false [fallbackAsPlaceholder]=true></img-loader>-->
          <img src="{{activityFeedItem.ActivityFeedCommentAvatar}}" onerror="this.src='assets/img/personIcon.png'">
        </ion-avatar>
        <div (click)="AttendeeDetails(activityFeedItem.AttendeeID)">
        <ion-label><b>{{activityFeedItem.ActivityFeedCommentBy}}</b></ion-label>
        <ion-label>{{activityFeedItem.ActivityFeedCommentPosted}}</ion-label>
        </div>
      </ion-item>
  
      <!-- Posting picture attachment -->
      <!--<img-loader *ngIf=activityFeedItem.ActivityFeedAttached [src]="activityFeedItem.ActivityFeedAttachment" useImg [spinner]=false></img-loader>-->
      <img src="{{activityFeedItem.ActivityFeedAttachment}}" (click)="ActivityFeedDetails(activityFeedItem, activityFeedItem.afID)">
  
      <!-- Attendee's comment -->
      <ion-card-content [innerHTML]="activityFeedItem.ActivityFeedComment" (click)="ActivityFeedDetails(activityFeedItem, activityFeedItem.afID)">
        <!--<p>{{activityFeedItem.ActivityFeedComment}}</p>-->
      </ion-card-content>
  
      <!-- Linked URL (Only for promoted postings entered via the Admin Gateway) -->
      <ion-list *ngIf=activityFeedItem.showActivityFeedLinkedURL>
        <ion-button clear (click)="navToWeb(activityFeedItem.ActivityFeedLinkedURL)">
          <ion-icon name="globe" slot="start" color="tertiary"></ion-icon>
          {{activityFeedItem.ActivityFeedLinkedURL}}
        </ion-button>
      </ion-list>
  
      <!-- Footer with details -->
      <ion-row>
        <ion-col size="4">
       <ion-button fill="clear" size="small" (click)="UpdateLikes(activityFeedItem, activityFeedItem.afID, activityCard)"> 
          <ion-icon color="tertiary"  style="color:#F15D22; text-align:center" name="thumbs-up"></ion-icon>
            <div style="color:#F15D22">{{activityFeedItem.ActivityFeedLikesCounter}} Likes</div>
          </ion-button>
        </ion-col>
       
        <ion-col size="4">
        <ion-button fill="clear" size="small" (click)="ActivityFeedDetails(activityFeedItem, activityFeedItem.afID)">
            <ion-icon color="tertiary" slot="start" name="text"></ion-icon>
            <div style="color:#F15D22">{{activityFeedItem.ActivityFeedCommentsCounter}} Comments</div>
          </ion-button>
        </ion-col>

        <ion-col size="4">
        <ion-button fill="clear" size="small" (click)="ActivityFeedDetails(activityFeedItem, activityFeedItem.afID)">
            <ion-icon color="tertiary" slot="start" name="calendar"></ion-icon>
            <div style="color:#F15D22">{{activityFeedItem.ActivityFeedCommentPostedDuration}}</div>
          </ion-button>
        </ion-col>
      </ion-row>
  
    </ion-card>
    


  </ion-content>
  
<!-- Floating button menu for adding new comment -->
<ion-footer>
	<ion-fab vertical="bottom" horizontal="end">
		<ion-fab-button color="tertiary" ion-fab>
			<ion-icon name="add"></ion-icon>
		</ion-fab-button>
		<ion-fab-list side="top">
			<ion-fab-button (click)="ViewLeaderboard()" data-desc="View Leaderboard">
				<ion-icon name="trophy"></ion-icon>
			</ion-fab-button>
			<ion-fab-button (click)="AddPosting()" data-desc="Add Posting">
				<ion-icon name="chatboxes"></ion-icon>
			</ion-fab-button>
		</ion-fab-list>
	</ion-fab>
</ion-footer>  
